(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{Nlzp:function(e,a,t){"use strict";t("miYZ");var r=t("tsqr"),n=t("vDqi"),s=t.n(n);function o(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((n,o)=>{var c;c="GET"===t?s.a.get(e,{params:a}):s.a.post(e,a),c.then(e=>{n(e.data),console.log("\u8bf7\u6c42\u6210\u529f",e)}).catch(e=>{r["a"].error("\u8bf7\u6c42\u63a5\u53e3\u51fa\u9519\u4e86: "+e.message)})})}t.d(a,"i",function(){return i}),t.d(a,"f",function(){return u}),t.d(a,"a",function(){return l}),t.d(a,"m",function(){return m}),t.d(a,"e",function(){return d}),t.d(a,"j",function(){return p}),t.d(a,"o",function(){return g}),t.d(a,"l",function(){return f}),t.d(a,"g",function(){return h}),t.d(a,"b",function(){return y}),t.d(a,"k",function(){return v}),t.d(a,"d",function(){return w}),t.d(a,"n",function(){return E}),t.d(a,"p",function(){return _}),t.d(a,"h",function(){return N}),t.d(a,"c",function(){return S});var c="",i=(e,a)=>o(c+"/login",{username:e,password:a},"POST"),u=e=>o(c+"/manage/category/list",{parentId:e}),l=(e,a)=>o(c+"/manage/category/add",{categoryName:e,parentId:a},"POST"),m=e=>{var a=e.categoryId,t=e.categoryName;return o(c+"/manage/category/update",{categoryId:a,categoryName:t},"POST")},d=e=>o(c+"/manage/category/info",{categoryId:e}),p=(e,a)=>o(c+"/manage/product/list",{pageNum:e,pageSize:a}),g=(e,a)=>o(c+"/manage/product/updateStatus",{productId:e,status:a},"POST"),f=e=>{var a=e.pageNum,t=e.pageSize,r=e.searchName,n=e.searchType;return o(c+"/manage/product/search",{pageNum:a,pageSize:t,[n]:r})},h=e=>o(c+"/manage/img/delete",{name:e},"POST"),y=e=>o(c+"/manage/product/"+(e._id?"update":"add"),e,"POST"),v=()=>o(c+"/manage/role/list"),w=e=>o(c+"/manage/role/add",{roleName:e},"POST"),E=e=>o(c+"/manage/role/update",e,"POST"),_=()=>o(c+"/manage/user/list"),N=e=>o(c+"/manage/user/delete",{userId:e},"POST"),S=e=>o(c+"/manage/user/"+(e._id?"update":"add"),e,"POST")},QRmq:function(e,a,t){e.exports={container:"container___tvKlA",header:"header___14Uke",contents:"contents___2PfRL",login:"login___1JIU1",item:"item___3FOln"}},SGa5:function(e,a,t){"use strict";t.r(a);var r=t("q1tI"),n=t.n(r),s=t("d6i3"),o=t.n(s),c=t("1l/V"),i=t.n(c),u=t("/MKj"),l=(t("+L6B"),t("2/Rp")),m=(t("y8nQ"),t("Vl3Y")),d=t("jehZ"),p=t.n(d),g=(t("5NDa"),t("5rEg")),f=(t("Pwec"),t("CtXQ")),h=(t("miYZ"),t("tsqr")),y=(t("B9cy"),t("Ol7k")),v=t("Ty5D"),w=t("bKel"),E=t.n(w),_=t("QRmq"),N=t.n(_),S=t("Nlzp"),T=y["a"].Header,b=y["a"].Content,I={wrapperCol:{span:18,offset:3}};class O extends r["Component"]{constructor(){var e;super(...arguments),e=this,this.handleSubmit=(a=>{a.preventDefault(),this.props.form.validateFields(function(){var a=i()(o.a.mark(function a(t,r){var n;return o.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!t){a.next=4;break}h["a"].error("\u8f93\u5165\u683c\u5f0f\u6709\u8bef,\u8bf7\u91cd\u65b0\u8f93\u5165"),a.next=8;break;case 4:return a.next=6,Object(S["i"])(r.username,r.password);case 6:n=a.sent,0===n.status?h["a"].success("\u767b\u9646\u6210\u529f",1,()=>{console.log(n.data),e.props.onisUser(n.data),e.props.history.replace("/")}):h["a"].error("\u8d26\u53f7\u5bc6\u7801\u9519\u8bef,\u8bf7\u91cd\u65b0\u8f93\u5165",n.msg);case 8:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())})}render(){var e=this.props.form.getFieldDecorator;return this.props.loginId?n.a.createElement(v["c"],{to:"/"}):n.a.createElement("div",{className:N.a.container},n.a.createElement(T,{className:N.a.header},"react\u540e\u53f0\u7cfb\u7edf\u7ec3\u4e60"),n.a.createElement(b,{className:N.a.contents},n.a.createElement(m["a"],{className:N.a.login,onSubmit:this.handleSubmit},n.a.createElement("h2",null,"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"),n.a.createElement(m["a"].Item,p()({className:N.a.item},I),e("username",{initialValue:"admin",rules:[{required:!0,message:"\u8d26\u6237\u5fc5\u987b\u586b\u5199"},{whitespace:!0,message:"\u4e0d\u80fd\u542b\u6709\u7a7a\u683c"}]})(n.a.createElement(g["a"],{prefix:n.a.createElement(f["a"],{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u8d26\u53f7"}))),n.a.createElement(m["a"].Item,p()({className:N.a.item},I),e("password",{rules:[{min:2,required:!0,message:"\u5bc6\u7801\u5fc5\u987b\u5927\u4e8e 3 \u4f4d"},{max:12,message:"\u5bc6\u7801\u4e0d\u5f97\u5927\u4e8e12\u4f4d"},{},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u683c\u5f0f\u5fc5\u987b\u4e3a\u6570\u5b57,\u82f1\u6587,\u4e0b\u5212\u7ebf"}]})(n.a.createElement(g["a"],{prefix:n.a.createElement(f["a"],{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801"}))),n.a.createElement(m["a"].Item,p()({className:N.a.item},I),n.a.createElement(l["a"],{htmlType:"submit",type:"primary"},"\u767b\u5f55")))))}}var P=m["a"].create({}),x=E()(P(O)),k=Object(u["c"])(e=>({loginId:e.store.user._id}),e=>({onisUser(a){return i()(o.a.mark(function t(){return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e({type:"store/isUser",payload:{isUser:a}});case 2:case"end":return t.stop()}},t)}))()},setTitle(a){e({type:"store/setTitle",payload:{title:a}})}}))(x);a["default"]=function(e){return n.a.createElement("div",null,n.a.createElement(k,null))}}}]);